{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  cartItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [],\n  cartTotalQuantity: 0,\n  cartTotalAmount: 0\n};\nconst sliceCart = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    addToCart(state, action) {\n      const itemIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      if (itemIndex >= 0) {\n        state.cartItems[itemIndex].cartQuantity += 1;\n        if (state.cartItems[itemIndex].cartQuantity === 11) {\n          state.cartItems[itemIndex].cartQuantity = 10;\n        }\n      } else {\n        const tempProduct = {\n          ...action.payload,\n          cartQuantity: 1\n        };\n        state.cartItems.push(tempProduct);\n      }\n      localStorage.setItem('cartItems', JSON.stringify(state.cartItems));\n    },\n    removeFromCart(state, action) {\n      const nextCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n      state.cartItems = nextCartItems;\n      localStorage.setItem('cartItems', JSON.stringify(state.cartItems));\n    },\n    decreaseFromCart(state, action) {\n      const itemIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      if (state.cartItems[itemIndex].cartQuantity > 1) {\n        state.cartItems[itemIndex].cartQuantity -= 1;\n      } else if (state.cartItems[itemIndex].cartQuantity === 1) {\n        const nextCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n        state.cartItems = nextCartItems;\n      }\n      localStorage.setItem('cartItems', JSON.stringify(state.cartItems));\n    },\n    clearCart(state, action) {\n      state.cartItems = [];\n      localStorage.setItem('cartItems', JSON.stringify(state.cartItems));\n    },\n    totalAmount: (state, action) => {\n      let {\n        total,\n        quantity\n      } = state.cartItems.reduce((cartTotal, item) => {\n        const {\n          price,\n          cartQuantity\n        } = item;\n        const itemTotal = price * cartQuantity;\n        cartTotal.total += itemTotal;\n        cartTotal.quantity += cartQuantity;\n        return cartTotal;\n      }, {\n        total: 0,\n        quantity: 0\n      });\n      state.cartTotalAmount = total;\n      state.cartTotalQuantity = quantity;\n    }\n  }\n});\nexport const {\n  addToCart,\n  removeFromCart,\n  decreaseFromCart,\n  clearCart,\n  totalAmount\n} = sliceCart.actions;\nexport default sliceCart.reducer;","map":{"version":3,"names":["createSlice","initialState","cartItems","localStorage","getItem","JSON","parse","cartTotalQuantity","cartTotalAmount","sliceCart","name","reducers","addToCart","state","action","itemIndex","findIndex","item","id","payload","cartQuantity","tempProduct","push","setItem","stringify","removeFromCart","nextCartItems","filter","decreaseFromCart","clearCart","totalAmount","total","quantity","reduce","cartTotal","price","itemTotal","actions","reducer"],"sources":["C:/Users/simis/OneDrive/Radna povrÅ¡ina/post-app/client/src/Store/sliceCart.js"],"sourcesContent":["import { createSlice} from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n    cartItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [],\r\n    cartTotalQuantity: 0,\r\n    cartTotalAmount: 0\r\n}\r\n\r\nconst sliceCart = createSlice({\r\n    name: 'cart',\r\n    initialState,\r\n    reducers: {\r\n        addToCart(state, action) {\r\n\r\n            const itemIndex = state.cartItems.findIndex(item => item.id === action.payload.id)\r\n            \r\n            if (itemIndex >= 0 ) {\r\n                state.cartItems[itemIndex].cartQuantity += 1\r\n\r\n                if(state.cartItems[itemIndex].cartQuantity === 11) {\r\n                    state.cartItems[itemIndex].cartQuantity = 10\r\n                }\r\n            } else {\r\n                const tempProduct = {...action.payload, cartQuantity: 1}\r\n                state.cartItems.push(tempProduct)\r\n            }\r\n\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cartItems))\r\n\r\n            \r\n        },\r\n\r\n        removeFromCart(state, action) {\r\n            const nextCartItems = state.cartItems.filter(item => item.id !== action.payload.id)\r\n            state.cartItems = nextCartItems\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cartItems))\r\n        },\r\n\r\n        decreaseFromCart(state, action) {\r\n            const itemIndex = state.cartItems.findIndex(item => item.id === action.payload.id)\r\n\r\n            if(state.cartItems[itemIndex].cartQuantity > 1) {\r\n                state.cartItems[itemIndex].cartQuantity -= 1 \r\n            } else if(state.cartItems[itemIndex].cartQuantity === 1) {\r\n                const nextCartItems = state.cartItems.filter(item => item.id !== action.payload.id)\r\n                state.cartItems = nextCartItems\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cartItems))\r\n        },\r\n\r\n        clearCart(state, action) {\r\n            state.cartItems = []\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cartItems))\r\n        },\r\n\r\n        totalAmount: (state, action) => {\r\n            let {total, quantity} = state.cartItems.reduce((cartTotal, item) => {\r\n                const {price, cartQuantity} = item\r\n                const itemTotal = price * cartQuantity\r\n                \r\n                cartTotal.total += itemTotal\r\n                cartTotal.quantity += cartQuantity\r\n\r\n\r\n                return cartTotal\r\n            },\r\n                {total : 0,\r\n                    quantity: 0\r\n                }\r\n            )\r\n            state.cartTotalAmount = total\r\n            state.cartTotalQuantity = quantity\r\n        }\r\n    }\r\n})\r\n\r\nexport const { addToCart, removeFromCart, decreaseFromCart, clearCart, totalAmount} = sliceCart.actions\r\nexport default sliceCart.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAO,kBAAkB;AAE7C,MAAMC,YAAY,GAAG;EACjBC,SAAS,EAAEC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE;EACjGG,iBAAiB,EAAE,CAAC;EACpBC,eAAe,EAAE;AACrB,CAAC;AAED,MAAMC,SAAS,GAAGT,WAAW,CAAC;EAC1BU,IAAI,EAAE,MAAM;EACZT,YAAY;EACZU,QAAQ,EAAE;IACNC,SAASA,CAACC,KAAK,EAAEC,MAAM,EAAE;MAErB,MAAMC,SAAS,GAAGF,KAAK,CAACX,SAAS,CAACc,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,CAAC;MAElF,IAAIH,SAAS,IAAI,CAAC,EAAG;QACjBF,KAAK,CAACX,SAAS,CAACa,SAAS,CAAC,CAACK,YAAY,IAAI,CAAC;QAE5C,IAAGP,KAAK,CAACX,SAAS,CAACa,SAAS,CAAC,CAACK,YAAY,KAAK,EAAE,EAAE;UAC/CP,KAAK,CAACX,SAAS,CAACa,SAAS,CAAC,CAACK,YAAY,GAAG,EAAE;QAChD;MACJ,CAAC,MAAM;QACH,MAAMC,WAAW,GAAG;UAAC,GAAGP,MAAM,CAACK,OAAO;UAAEC,YAAY,EAAE;QAAC,CAAC;QACxDP,KAAK,CAACX,SAAS,CAACoB,IAAI,CAACD,WAAW,CAAC;MACrC;MAEAlB,YAAY,CAACoB,OAAO,CAAC,WAAW,EAAElB,IAAI,CAACmB,SAAS,CAACX,KAAK,CAACX,SAAS,CAAC,CAAC;IAGtE,CAAC;IAEDuB,cAAcA,CAACZ,KAAK,EAAEC,MAAM,EAAE;MAC1B,MAAMY,aAAa,GAAGb,KAAK,CAACX,SAAS,CAACyB,MAAM,CAACV,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,CAAC;MACnFL,KAAK,CAACX,SAAS,GAAGwB,aAAa;MAC/BvB,YAAY,CAACoB,OAAO,CAAC,WAAW,EAAElB,IAAI,CAACmB,SAAS,CAACX,KAAK,CAACX,SAAS,CAAC,CAAC;IACtE,CAAC;IAED0B,gBAAgBA,CAACf,KAAK,EAAEC,MAAM,EAAE;MAC5B,MAAMC,SAAS,GAAGF,KAAK,CAACX,SAAS,CAACc,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,CAAC;MAElF,IAAGL,KAAK,CAACX,SAAS,CAACa,SAAS,CAAC,CAACK,YAAY,GAAG,CAAC,EAAE;QAC5CP,KAAK,CAACX,SAAS,CAACa,SAAS,CAAC,CAACK,YAAY,IAAI,CAAC;MAChD,CAAC,MAAM,IAAGP,KAAK,CAACX,SAAS,CAACa,SAAS,CAAC,CAACK,YAAY,KAAK,CAAC,EAAE;QACrD,MAAMM,aAAa,GAAGb,KAAK,CAACX,SAAS,CAACyB,MAAM,CAACV,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,CAAC;QACnFL,KAAK,CAACX,SAAS,GAAGwB,aAAa;MACnC;MACAvB,YAAY,CAACoB,OAAO,CAAC,WAAW,EAAElB,IAAI,CAACmB,SAAS,CAACX,KAAK,CAACX,SAAS,CAAC,CAAC;IACtE,CAAC;IAED2B,SAASA,CAAChB,KAAK,EAAEC,MAAM,EAAE;MACrBD,KAAK,CAACX,SAAS,GAAG,EAAE;MACpBC,YAAY,CAACoB,OAAO,CAAC,WAAW,EAAElB,IAAI,CAACmB,SAAS,CAACX,KAAK,CAACX,SAAS,CAAC,CAAC;IACtE,CAAC;IAED4B,WAAW,EAAEA,CAACjB,KAAK,EAAEC,MAAM,KAAK;MAC5B,IAAI;QAACiB,KAAK;QAAEC;MAAQ,CAAC,GAAGnB,KAAK,CAACX,SAAS,CAAC+B,MAAM,CAAC,CAACC,SAAS,EAAEjB,IAAI,KAAK;QAChE,MAAM;UAACkB,KAAK;UAAEf;QAAY,CAAC,GAAGH,IAAI;QAClC,MAAMmB,SAAS,GAAGD,KAAK,GAAGf,YAAY;QAEtCc,SAAS,CAACH,KAAK,IAAIK,SAAS;QAC5BF,SAAS,CAACF,QAAQ,IAAIZ,YAAY;QAGlC,OAAOc,SAAS;MACpB,CAAC,EACG;QAACH,KAAK,EAAG,CAAC;QACNC,QAAQ,EAAE;MACd,CACJ,CAAC;MACDnB,KAAK,CAACL,eAAe,GAAGuB,KAAK;MAC7BlB,KAAK,CAACN,iBAAiB,GAAGyB,QAAQ;IACtC;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEpB,SAAS;EAAEa,cAAc;EAAEG,gBAAgB;EAAEC,SAAS;EAAEC;AAAW,CAAC,GAAGrB,SAAS,CAAC4B,OAAO;AACvG,eAAe5B,SAAS,CAAC6B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}